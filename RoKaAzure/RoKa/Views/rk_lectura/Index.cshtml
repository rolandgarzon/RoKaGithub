@model IEnumerable<RoKa.Models.rk_lectura>

@{
    ViewBag.Title = "Index";
}

<h2>Consulta Lecturas</h2>

<p>

</p>
<table class="table table-striped table-bordered" id="tbllecturas" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.ano)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.mes)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.idciclofacturacion)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.idservicio)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.idsuscriptor)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.rutalectura)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.direccion)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.idestadolectura)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.lecturatomada)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.rk_observacioneslectura.descripcion)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.fechalecturatomada)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.rk_terminalportatil.idterminalportatil)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.idmedidor)
            </th>
        </tr>
    </thead>

    <tfoot>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.ano)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.mes)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.idciclofacturacion)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.idservicio)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.idsuscriptor)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.rutalectura)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.direccion)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.idestadolectura)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.lecturatomada)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.rk_observacioneslectura.descripcion)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.fechalecturatomada)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.rk_terminalportatil.idterminalportatil)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.idmedidor)
            </th>
        </tr>
    </tfoot>

    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.ano)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.mes)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.idciclofacturacion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.rk_servicio.idservicio)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.idsuscriptor)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.rutalectura)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.direccion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.rk_estadolectura.descripcion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.lecturatomada)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.rk_observacioneslectura.descripcion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.fechalecturatomada)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.rk_terminalportatil.serie)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.idmedidor)
                </td>
            </tr>
        }
    </tbody>

</table>

@section scripts{


<script>

    $(document).ready(function () {
        $('#tbllecturas').DataTable({
            initComplete: function () {
                this.api().columns().every(function () {
                    var column = this;
                    var select = $('<select><option value=""></option></select>')
                        .appendTo($(column.footer()).empty())
                        .on('change', function () {
                            var val = $.fn.dataTable.util.escapeRegex(
                                $(this).val()
                            );

                            column
                                .search(val ? '^' + val + '$' : '', true, false)
                                .draw();
                        });

                    column.data().unique().sort().each(function (d, j) {
                        select.append('<option value="' + d + '">' + d + '</option>')
                    });
                });
            }
        });
    });
</script>

    }


